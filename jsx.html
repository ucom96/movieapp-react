<!--using ReactJS-->
<!--개발자들이 잘 쓰는 방식: using JSX-->
<!--render의 불편한 방식-->
<!DOCTYPE html>
<html lang="ko">
  <!--button 클릭시 span의 click수 변경-->
  <body>
    <div id="root"></div>
    <!--ReactJS와 ReactDOM import-->
    <!--ReactJS: 어플리케이션이 interactive해지도록 만들어줌-->
    <script src="https://unpkg.com/react@17.0.2/umd/react.production.min.js"></script>
    <!--ReactDOM: React element들을 HTML에 올림-->
    <script src="https://unpkg.com/react-dom@17.0.2/umd/react-dom.production.min.js"></script>
    <!--babel: JS를 HTML로 번역해줌 JSX 사용가능-->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!--React의 특징-->
    <!--애초에 HTMl 요소를 React로 만들어서 render를 이용하여 이를 HTML로 번역한다-->
    <!--HTML 요소를 HTML에서 가져와서 작업하는 번거로운 방식이 아닌 애초에 JS로 생성해서 업데이트하는 방식-->
    <script type="text/babel">
      const root = document.getElementById("root");
      /*
      let counter = 0;
      const countUp = () => {
        counter = counter + 1;
        //바뀐 데이터를 다시 리렌더링하여 UI에 반영해주어야함!
        //리렌더링때마다 render()함수를 호출하는 것은 매우 비효율적! 
        render();
      };
      */
      //JSX를 이용하여 컴포넌트를 만드려면 함수 형태로 만들며 함수이름은 반드시 대문자로 형성해야한다
      const App = () => {
        //위의 코드를 한번에 해결!
        //counter: default value / setCounter: counter를 변경할 시 사용하는 함수
        //setCounter함수(modifier함수)는 인자로 들어온 value 값으로 업데이트 후 자동으로 리렌더링을 일으킴
        const [counter, setCounter] = React.useState(0);
        const onClick = () => {
          //버튼을 클릭할 때마다 counter의 값을 counter+1 값으로 업데이트한 후 UI에 자동 리렌더링
          //하지만 이러한 방식은 좋은 방식이 아님 왜냐면 counter가 다른 곳에서 변경될 시 버그가 발생될 수 있기 때문
          //setCounter(counter + 1);
          //state를 변경하는 안전한 방식: 이전값을 이용하여 현재값을 계산해내는 방식
          //modifier(현재값 => return 다음값(new state))
          setCounter((current) => current + 1);
        };
        return (
          <div>
            <h3>Total Click: {counter}</h3>
            <button onClick={onClick}>Click Me</button>
          </div>
        );
      };
      ReactDOM.render(<App />, root);
    </script>
  </body>
</html>
